<html>
  <head>
  <!-- include the jugsaw library -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Jugsaw/Jugsaw/src/js/jugsawirparser.js"></script>
  </head>
  <body>
    <input id="jugsaw-input" type="text"/>
    <button id="jugsaw-submit">submit</button>
    <div id="jugsaw-output"></div>
    <!-- The function call -->
    <script>
      // call
      const context = new ClientContext({endpoint:"https://api.jugsaw.co"})
      const app_promise = request_app(context, "greet")
      const input = document.getElementById("jugsaw-input")
      const output = document.getElementById("jugsaw-output")
      const submit = document.getElementById("jugsaw-submit")
      submit.addEventListener('click', ()=>{
        app_promise.then(app=>app.call("greet", 0, [input.value], [])).then(x=>{output.innerHTML=document.createTextNode(x)})
      }
    )
    </script>
  </body>
</html>
